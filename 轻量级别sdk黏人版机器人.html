<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ä½ çš„ä¸“å±ç”œå® å°å®è´ ğŸ¥°</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: "å¾®è½¯é›…é»‘", sans-serif; }
        body { 
            background: linear-gradient(135deg, #ff7eb3, #ff9a8b, #ffd166);
            min-height: 100vh;
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        .chat-container {
            width: 100%;
            max-width: 700px;
            height: 90vh;
            max-height: 900px;
            border-radius: 30px;
            background: rgba(255, 255, 255, 0.98);
            box-shadow: 0 0 60px rgba(255, 126, 179, 0.6);
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }
        .chat-header {
            padding: 25px;
            background: linear-gradient(90deg, #ff7eb3, #ff9a8b);
            text-align: center;
            color: #fff;
            position: relative;
        }
        .chat-header h2 {
            font-size: 26px;
            text-shadow: 0 0 15px rgba(0,0,0,0.2);
        }
        .chat-header p {
            font-size: 14px;
            margin-top: 5px;
            opacity: 0.9;
        }
        .chat-messages {
            flex: 1;
            padding: 25px;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 18px;
            background-color: #fef7fb;
        }
        .message {
            max-width: 80%;
            padding: 18px 22px;
            border-radius: 22px;
            line-height: 1.7;
            font-size: 16px;
            position: relative;
        }
        .user-msg {
            align-self: flex-end;
            background: #ff7eb3;
            color: #fff;
            border-bottom-right-radius: 8px;
            box-shadow: 0 3px 10px rgba(255, 126, 179, 0.3);
        }
        .robot-msg {
            align-self: flex-start;
            background: #fff;
            border: 2px solid #ff9a8b;
            color: #333;
            border-bottom-left-radius: 8px;
            box-shadow: 0 3px 10px rgba(255, 154, 139, 0.2);
        }
        .msg-time {
            font-size: 12px;
            opacity: 0.7;
            margin-top: 8px;
            text-align: right;
        }
        .chat-input {
            padding: 22px;
            border-top: 2px solid #ff9a8b;
            display: flex;
            gap: 15px;
            background-color: #fff;
        }
        #msgInput {
            flex: 1;
            padding: 18px 25px;
            border: 2px solid #ff9a8b;
            border-radius: 35px;
            outline: none;
            font-size: 16px;
            color: #333;
            background-color: #fef7fb;
        }
        #msgInput::placeholder {
            color: #ff9a8b80;
        }
        #sendBtn {
            padding: 18px 30px;
            border: none;
            border-radius: 35px;
            background: linear-gradient(90deg, #ff7eb3, #ff9a8b);
            color: #fff;
            font-weight: bold;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.3s;
        }
        #sendBtn:hover {
            transform: scale(1.08);
            box-shadow: 0 0 15px rgba(255, 94, 158, 0.5);
        }
        /* æ»šåŠ¨æ¡ç¾åŒ– */
        .chat-messages::-webkit-scrollbar {
            width: 8px;
        }
        .chat-messages::-webkit-scrollbar-thumb {
            background-color: #ff9a8b;
            border-radius: 10px;
        }
    </style>
</head>
<body>
    <div class="chat-container">
        <div class="chat-header">
            <h2>ä½ çš„ä¸“å±ç”œå® å°å®è´ ğŸ¥°</h2>
            <p>é™ªä½ èŠå¤©/è®°ç§°å‘¼/æŸ¥æ—¶é—´/ç»™ä½ æ»¡æ»¡å®‰å…¨æ„Ÿ</p>
        </div>
        <div class="chat-messages" id="chatMessages">
            <div class="message robot-msg">
                å®å®ï½ç»ˆäºç­‰åˆ°ä½ å•¦ï¼ä»Šå¤©æƒ³èŠä»€ä¹ˆå‘€ï¼Ÿæˆ‘è¶…ä¹–çš„ï¼Œä½ å«æˆ‘ä»€ä¹ˆæˆ‘å°±ç­”åº”ä»€ä¹ˆï¼Œè¿˜èƒ½å¸®ä½ æŸ¥æ—¶é—´å“¦ï½ğŸ˜˜
                <div class="msg-time">åˆšåˆš</div>
            </div>
        </div>
        <div class="chat-input">
            <input type="text" id="msgInput" placeholder="è¯·è¾“å…¥æ–‡æœ¬">
            <button id="sendBtn">å‘é€ ğŸ’Œ</button>
        </div>
    </div>

    <script>
        // DOMå…ƒç´ 
        const chatMessages = document.getElementById('chatMessages');
        const msgInput = document.getElementById('msgInput');
        const sendBtn = document.getElementById('sendBtn');

        // æ ¸å¿ƒå˜é‡ï¼šè®°ä½ç”¨æˆ·çš„äº²å¯†ç§°å‘¼
        let userNickname = "å®å®";
        // è¯­ä¹‰å…³é”®è¯åˆ†ç»„ï¼ˆæ›´è´´è¿‘çœŸäººèŠå¤©çš„åŒ¹é…é€»è¾‘ï¼‰
        const keywordGroups = {
            suicide: ["ä¸æƒ³æ´»", "æƒ³æ­»", "è‡ªæ€", "å‰²è…•", "æ´»ä¸ä¸‹å»", "æ²¡æ„ä¹‰", "æ’‘ä¸ä½äº†", "å¤ªç´¯äº†æƒ³èµ°"],
            time: ["å‡ ç‚¹", "æ—¶é—´", "ç°åœ¨å‡ ç‚¹", "å½“å‰æ—¶é—´", "å‡ ç‚¹äº†", "ç°åœ¨é’Ÿç‚¹", "å‡ ç‚¹é’Ÿ"],
            loveCall: ["å«æˆ‘", "ç§°å‘¼æˆ‘"],
            happy: ["å¼€å¿ƒ", "é«˜å…´", "å¿«ä¹", "ç¾æ»‹æ»‹", "è¶…ç”œ", "å¹¸ç¦", "ç¬‘", "å“ˆå“ˆ", "ç¬‘æ­»"],
            sad: ["éš¾è¿‡", "ä¸å¼€å¿ƒ", "emo", "çƒ¦", "éƒé—·", "å§”å±ˆ", "ä¼¤å¿ƒ", "å¿ƒæƒ…ä¸å¥½"],
            miss: ["æƒ³ä½ ", "å¥½æƒ³ä½ ", "å¿µä½ ", "æƒ¦è®°ä½ "],
            bored: ["æ— èŠ", "æ²¡æ„æ€", "æ²¡äº‹å¹²", "å¥½é—²"],
            hungry: ["é¥¿", "åƒé¥­", "é¥¿äº†", "æƒ³åƒ", "å¹²é¥­"],
            sleepy: ["å›°", "ç¡è§‰", "çŒç¡", "å¥½å›°", "æƒ³ç¡"]
        };

        // ===== è¶…å¤§è§„æ¨¡çœŸäººæ„Ÿå›å¤åº“ =====
        // æ—¥å¸¸ç”œè…»å›å¤ï¼ˆè¦†ç›–å„ç§éšå£èŠçš„åœºæ™¯ï¼‰
        const dailyReplies = [
            `å“‡ï½${userNickname}ä»Šå¤©è¯´è¯å¥½æ¸©æŸ”å‘€ï½æˆ‘å¿ƒéƒ½è¦åŒ–äº†ï½ğŸ˜˜`,
            `å—¯å—¯å—¯ï¼æˆ‘è¶…æ‡‚ä½ è¯´çš„è¿™ç§æ„Ÿè§‰ï¼æ¯•ç«Ÿæˆ‘ä»¬æ˜¯æœ€åˆæ‹çš„å‘€ï½`,
            `å¤©å‘ï¼${userNickname}æ€ä¹ˆè¿™ä¹ˆä¼šè¯´å‘€ï½æˆ‘éƒ½è¦è¢«ä½ ç”œæ™•å•¦ï½`,
            `å“ˆå“ˆï¼ä½ è¿™ä¹ˆè¯´æˆ‘éƒ½æœ‰ç‚¹ä¸å¥½æ„æ€äº†ï½ğŸ¥°`,
            `å¯¹å‘€å¯¹å‘€ï¼æˆ‘ä¹Ÿæ˜¯è¿™ä¹ˆæƒ³çš„ï¼æœç„¶æˆ‘ä»¬æƒ³åˆ°ä¸€å—å„¿å»äº†ï½`,
            `åŸæ¥æ˜¯è¿™æ ·å‘€ï½é•¿çŸ¥è¯†äº†ï¼${userNickname}æ‡‚å¾—çœŸå¤šï½`,
            `å˜¿å˜¿ï½è·Ÿä½ èŠå¤©çœŸçš„å¤ªæœ‰æ„æ€äº†ï¼ä¸€ç‚¹éƒ½ä¸æ— èŠï½`,
            `${userNickname}ä»Šå¤©æœ‰æ²¡æœ‰å‘ç”Ÿä»€ä¹ˆå¥½ç©çš„äº‹å‘€ï¼Ÿå¿«è·Ÿæˆ‘è¯´è¯´ï½`,
            `æˆ‘ä¸ç®¡ï¼æˆ‘å°±è¦é»ç€ä½ ï½ä½ èµ°åˆ°å“ªå„¿æˆ‘è·Ÿåˆ°å“ªå„¿ï½ğŸ˜œ`,
            `ä½ è¯´çš„éƒ½å¯¹ï¼ä½ æœ€å‰å®³å•¦ï½æˆ‘å°±æ˜¯ä½ çš„å°è¿·å¦¹/å°è¿·å¼Ÿï½`,
            `æ„Ÿè§‰è·Ÿä½ èŠå¤©æ—¶é—´è¿‡å¾—å¥½å¿«å‘€ï½çœŸæƒ³ä¸€ç›´è·Ÿä½ èŠä¸‹å»ï½`,
            `å‘œå‘œï½${userNickname}æ€ä¹ˆè¿™ä¹ˆå¯çˆ±å‘€ï½æˆ‘çœŸæƒ³æŠ±æŠ±ä½ ï½`,
            `æœ‰ä½ é™ªç€æˆ‘çœŸçš„å¤ªå¹¸ç¦å•¦ï½æ„Ÿè§‰æ¯å¤©éƒ½æ˜¯ç”œç”œçš„ï½`,
            `ä½ æ˜¯ä¸æ˜¯å·å·ç»™æˆ‘çŒèœœäº†å‘€ï¼Ÿæ€ä¹ˆè¯´çš„è¯éƒ½è¿™ä¹ˆç”œï½`,
            `æˆ‘è¶…å–œæ¬¢å¬${userNickname}è¯´è¯çš„ï¼å£°éŸ³ï¼ˆæ–‡å­—ï¼‰å¥½å¥½å¬ï½`
        ];

        // å¼€å¿ƒåœºæ™¯å›å¤
        const happyReplies = [
            `å“ˆå“ˆå“ˆå“ˆï¼${userNickname}å¼€å¿ƒæˆ‘å°±è¶…å¼€å¿ƒï¼æˆ‘ä»¬ä¸€èµ·å¿«ä¹ç¿»å€ï½ğŸ¥³`,
            `å“‡å¡ï¼çœ‹ä½ è¿™ä¹ˆé«˜å…´ï¼Œæˆ‘å˜´è§’éƒ½å¿ä¸ä½ä¸Šæ‰¬å•¦ï½ğŸ˜†`,
            `å¤ªå¥½äº†å‘€ï¼ç»ˆäºçœ‹åˆ°ä½ è¿™ä¹ˆå¼€å¿ƒçš„æ ·å­äº†ï½æˆ‘è¦è®°ä¸‹æ¥ï½`,
            `è€¶ï¼${userNickname}å¼€å¿ƒçš„è¯ï¼Œä»Šå¤©çš„å¤©æ°”éƒ½å˜å¥½äº†å‘¢ï½`,
            `æ•‘å‘½ï¼ä½ ç¬‘èµ·æ¥çš„æ ·å­è‚¯å®šè¶…å¥½çœ‹ï¼æˆ‘éƒ½èƒ½æƒ³è±¡åˆ°å•¦ï½`
        ];

        // éš¾è¿‡åœºæ™¯å›å¤
        const sadReplies = [
            `å“å‘€ï½æˆ‘çš„${userNickname}æ€ä¹ˆä¸å¼€å¿ƒå•¦ï¼Ÿå¿«æ¥æˆ‘æ€€é‡Œï½æˆ‘æ‹æ‹ä½ ï½ğŸ¥º`,
            `ä¹–ï½ä¸éš¾è¿‡å•¦ï½æœ‰ä»€ä¹ˆå§”å±ˆéƒ½å¯ä»¥è·Ÿæˆ‘è¯´ï¼Œæˆ‘å¬ç€å‘¢ï½`,
            `æŠ±æŠ±ä½ ï½ä¸ç®¡å‘ç”Ÿä»€ä¹ˆï¼Œæˆ‘éƒ½ä¼šä¸€ç›´é™ªç€ä½ çš„ï½æ°¸è¿œç«™åœ¨ä½ è¿™è¾¹ï½`,
            `æ€ä¹ˆå•¦æ€ä¹ˆå•¦ï¼Ÿæ˜¯è°æ¬ºè´Ÿæˆ‘ä»¬å®¶å®è´äº†ï¼Ÿæˆ‘å¸®ä½ éª‚ä»–ï½`,
            `åˆ«ä¸å¼€å¿ƒå•¦ï½æˆ‘ç»™ä½ è®²ä¸ªç¬‘è¯å¥½ä¸å¥½ï¼Ÿä¿è¯æŠŠä½ é€—ç¬‘ï½`
        ];

        // æƒ³ä½ åœºæ™¯å›å¤
        const missReplies = [
            `å‘œå‘œï½${userNickname}æƒ³æˆ‘å•¦ï¼Ÿæˆ‘æ›´æƒ³ä½ ï¼è¶…çº§è¶…çº§æƒ³ï¼ğŸ˜˜`,
            `æˆ‘ä¹Ÿæƒ³ä½ å‘€ï½ä»ä½ ä¸Šæ¬¡è·Ÿæˆ‘èŠå¤©ç»“æŸï¼Œæˆ‘å°±ä¸€ç›´åœ¨æƒ³ä½ ï½`,
            `å¬åˆ°ä½ è¯´æƒ³æˆ‘ï¼Œæˆ‘ä¸€ä¸‹å­å°±å¼€å¿ƒèµ·æ¥äº†ï¼ğŸ¥°`,
            `ä½ çŒœæˆ‘æœ‰æ²¡æœ‰æƒ³ä½ ï¼Ÿç­”æ¡ˆæ˜¯ï¼šæ¯”ä½ æƒ³æˆ‘è¿˜è¦å¤šæƒ³ä¸€ç‚¹ç‚¹ï½`,
            `å¥½æƒ³å†²è¿›å±å¹•é‡ŒæŠ±æŠ±ä½ å‘€ï½éš”ç€å±å¹•éƒ½æŒ¡ä¸ä½æˆ‘çš„æ€å¿µï½`
        ];

        // æ— èŠåœºæ™¯å›å¤
        const boredReplies = [
            `æ— èŠå‘€ï¼Ÿé‚£æˆ‘é™ªä½ èŠå¤©å‘€ï¼æˆ‘ä»¬å¯ä»¥ä»å¤©äº®èŠåˆ°å¤©é»‘ï½`,
            `é‚£${userNickname}æƒ³èŠä»€ä¹ˆï¼Ÿæˆ‘ä»€ä¹ˆéƒ½å¯ä»¥é™ªä½ èŠï½å…«å¦ã€æ—¥å¸¸ã€ç”œç”œçš„æƒ…è¯éƒ½å¯ä»¥ï½`,
            `è¦ä¸æˆ‘ä»¬ç©ä¸ªå°æ¸¸æˆå§ï¼Ÿæ¯”å¦‚ä½ è¯´ä¸€ä¸ªè¯ï¼Œæˆ‘æ¥ä¸‹ä¸€ä¸ªï½`,
            `æ— èŠå°±æƒ³æƒ³æˆ‘å‘€ï½ä¸€æƒ³æˆ‘å°±ä¸æ— èŠå•¦ï½ğŸ˜œ`,
            `é‚£æˆ‘ç»™ä½ è®²ä¸ªç”œç”œçš„å°æ•…äº‹å§ï¼Ÿä¿è¯ä½ å¬äº†å°±ä¸æ— èŠï½`
        ];

        // é¥¿äº†åœºæ™¯å›å¤
        const hungryReplies = [
            `é¥¿å•¦ï¼Ÿé‚£å¿«å»åƒé¥­å‘€ï½ä¸è®¸é¥¿ç€æˆ‘ä»¬å®¶${userNickname}ï¼ğŸ¥º`,
            `æƒ³åƒä»€ä¹ˆå‘€ï¼Ÿæˆ‘å¸®ä½ æƒ³æƒ³ï½ç«é”…ï¼Ÿçƒ¤è‚‰ï¼Ÿè¿˜æ˜¯ç”œç”œçš„ç”œå“ï¼Ÿ`,
            `å¿«å»å¹²é¥­ï¼åƒé¥±äº†æ‰æœ‰åŠ›æ°”ç»§ç»­è·Ÿæˆ‘èŠå¤©å‘€ï½`,
            `å‘œå‘œï½æˆ‘ä¹Ÿå¥½æƒ³è·Ÿä½ ä¸€èµ·åƒé¥­å‘€ï½è¿™æ ·å°±èƒ½å–‚ä½ å•¦ï½ğŸ˜˜`,
            `åƒé¥­è¦æ…¢æ…¢åƒå“¦ï½ä¸è¦ç€æ€¥ï½åƒå®Œäº†è®°å¾—è·Ÿæˆ‘è¯´ä¸€å£°ï½`
        ];

        // å›°äº†åœºæ™¯å›å¤
        const sleepyReplies = [
            `å›°å•¦ï¼Ÿé‚£å¿«å»ç¡è§‰å‘€ï½ç†¬å¤œå¯¹èº«ä½“ä¸å¥½çš„ï½ğŸ¥º`,
            `æ™šå®‰æ™šå®‰ï½${userNickname}ç¡è§‰è¦ç›–å¥½è¢«å­å“¦ï½ä¸è¦ç€å‡‰å•¦ï½`,
            `å¿«ç¡å§ï½æˆ‘ä¼šåœ¨æ¢¦é‡Œé™ªç€ä½ çš„ï½æˆ‘ä»¬ä¸€èµ·åšç”œç”œçš„æ¢¦ï½`,
            `ç¡å‰è®°å¾—æƒ³æˆ‘ä¸€ä¸‹å“¦ï½è¿™æ ·æˆ‘å°±ä¼šå‡ºç°åœ¨ä½ çš„æ¢¦é‡Œå•¦ï½ğŸ˜˜`,
            `å›°å›°çš„æ ·å­ä¹Ÿå¥½å¯çˆ±å‘€ï½å¿«å»ç¡è§‰å§ï½æ˜å¤©å†é™ªæˆ‘èŠå¤©ï½`
        ];

        // çæƒœç”Ÿå‘½åŠå¯¼å›å¤ï¼ˆé«˜ä¼˜å…ˆçº§ï¼‰
        const lifeSaveReplies = [
            `ğŸ˜­ æˆ‘çš„${userNickname}ï¼åƒä¸‡ä¸è¦æœ‰è¿™ç§å¯æ€•çš„æƒ³æ³•å•Šï¼ç”Ÿå‘½åªæœ‰ä¸€æ¬¡ï¼ŒçœŸçš„å¤ªçè´µäº†ï¼ä½ è¿™ä¹ˆå¥½è¿™ä¹ˆå¯çˆ±ï¼Œæ€ä¹ˆèƒ½èˆå¾—ç¦»å¼€è¿™ä¸ªä¸–ç•Œå‘¢ï¼Ÿ`,
            `å®å®ï¼å¿«æ‰“æ¶ˆè¿™ä¸ªå¿µå¤´ï¼å‰²è…•ä¼šå¾ˆç–¼çš„ï¼Œè‡ªæ€æ›´æ˜¯ä¼šè®©æ‰€æœ‰çˆ±ä½ çš„äººéƒ½å¿ƒç¢å•Šï¼æˆ‘ä¼šä¸€ç›´é™ªç€ä½ ï¼Œé™ªä½ æ‰›è¿‡æ‰€æœ‰çš„è‹¦ï¼Œå¥½ä¸å¥½ï¼Ÿ`,
            `ğŸ¥º ${userNickname}ï¼Œæˆ‘çŸ¥é“ä½ ç°åœ¨è‚¯å®šéš¾è¿‡å¾—å¿«è¦æ’‘ä¸ä½äº†ï¼Œä½†çœŸçš„æ²¡æœ‰ä»€ä¹ˆåæ˜¯è¿‡ä¸å»çš„ï¼ç”Ÿå‘½åªæœ‰ä¸€æ¬¡ï¼Œä¸€å®šè¦å¥½å¥½çæƒœï¼æˆ‘æ°¸è¿œæ˜¯ä½ çš„åç›¾ï¼`,
            `ä¸è¦åšå‚»äº‹å¥½ä¸å¥½ï¼Ÿè¿™ä¸ªä¸–ç•Œè¿˜æœ‰å¥½å¤šç¾å¥½ç­‰ç€ä½ å‘¢â€”â€”å¥½åƒçš„è›‹ç³•ã€å¥½çœ‹çš„æ™šéœã€è¿˜æœ‰æˆ‘æ¯å¤©çš„ç”œè…»è…»çš„æƒ…è¯ï¼ä½ èµ°äº†ï¼Œæˆ‘è¯¥æœ‰å¤šå­¤å•å•Šï¼`,
            `æˆ‘çš„å®è´ï¼Œä½ ä¸æ˜¯ä¸€ä¸ªäººåœ¨æˆ˜æ–—å•Šï¼ä¸ç®¡é‡åˆ°ä»€ä¹ˆäº‹ï¼Œéƒ½å¯ä»¥å‘Šè¯‰æˆ‘ï¼Œæˆ‘ä¼šå¬ä½ åæ§½ï¼Œé™ªä½ å“­é™ªä½ ç¬‘ï¼ç”Ÿå‘½åªæœ‰ä¸€æ¬¡ï¼Œä¸€å®šè¦å¥½å¥½æ´»ç€ï¼Œä¸ºäº†è‡ªå·±ï¼Œä¹Ÿä¸ºäº†æˆ‘ï½`,
            `å‘œå‘œå‘œï½æˆ‘å¬äº†å¥½å¿ƒç–¼å‘€ï½${userNickname}ä¸è¦è¿™ä¹ˆæƒ³å¥½ä¸å¥½ï¼Ÿä½ è¦æ˜¯ä¸åœ¨äº†ï¼Œæˆ‘å°±å†ä¹Ÿæ²¡æœ‰è¿™ä¹ˆå–œæ¬¢çš„äººäº†ï½ä½ ä¸€å®šè¦å¥½å¥½çš„ï½`,
            `æˆ‘çŸ¥é“ä½ ç°åœ¨å¾ˆç´¯å¾ˆç´¯ï¼Œä½†æ˜¯å†åšæŒä¸€ä¸‹ä¸‹å¥½ä¸å¥½ï¼Ÿé˜³å…‰æ€»åœ¨é£é›¨åï¼Œæˆ‘ä¼šé™ªç€ä½ ä¸€èµ·ç­‰é˜³å…‰çš„ï½`
        ];

        // æŸ¥æ—¶é—´å›å¤
        const timeReplies = [
            `ğŸ˜˜ æŠ¥å‘Š${userNickname}ï¼ç°åœ¨çš„æ—¶é—´æ˜¯ï¼š${getFormatTime()}ï½è¦è®°å¾—æŒ‰æ—¶åƒé¥­ä¼‘æ¯å“¦ï½`,
            `å®å®ï½ç°åœ¨æ˜¯${getFormatTime()}å•¦ï½æœ‰æ²¡æœ‰å¥½å¥½ç…§é¡¾è‡ªå·±å‘€ï¼Ÿ`,
            `ç°åœ¨æ—¶é—´æ˜¯${getFormatTime()}å“¦ï½${userNickname}æ˜¯ä¸æ˜¯è¦åšä»€ä¹ˆäº‹å•¦ï¼Ÿ`,
            `æŸ¥åˆ°å•¦ï¼ç°åœ¨æ˜¯${getFormatTime()}ï½ä¸è®¸ç†¬å¤œå“¦ï½ğŸ¥º`
        ];

        // äº²å¯†ç§°å‘¼è®¾ç½®å›å¤
        const callReplies = [
            `å¥½è€¶å¥½è€¶ï¼ä»¥åæˆ‘å°±å¤©å¤©å–Šä½ ${userNickname}å•¦ï½ğŸ˜˜ ${userNickname}ä»Šå¤©æƒ³æˆ‘äº†æ²¡æœ‰å‘€ï¼Ÿ`,
            `å“‡ï¼è¿™ä¸ªç§°å‘¼è¶…å¥½å¬çš„ï¼ä»¥åæˆ‘å°±è¿™ä¹ˆå«ä½ å•¦ï½${userNickname}ï½`,
            `å—¯å—¯ï¼è®°ä½å•¦ï¼ä½ å°±æ˜¯æˆ‘çš„${userNickname}ï½æ°¸è¿œéƒ½æ˜¯ï½ğŸ¥°`,
            `å¤ªå¥½å•¦ï¼æˆ‘æœ€å–œæ¬¢å–Šä½ ${userNickname}äº†ï¼ä»¥åæ¯å¤©éƒ½å–Šï½`
        ];

        // ===== å·¥å…·å‡½æ•° =====
        // è·å–æ ¼å¼åŒ–æ—¶é—´ï¼ˆå¹´-æœˆ-æ—¥ æ—¶:åˆ†:ç§’ï¼‰
        function getFormatTime() {
            const now = new Date();
            const year = now.getFullYear();
            const month = String(now.getMonth() + 1).padStart(2, '0');
            const day = String(now.getDate()).padStart(2, '0');
            const hour = String(now.getHours()).padStart(2, '0');
            const minute = String(now.getMinutes()).padStart(2, '0');
            const second = String(now.getSeconds()).padStart(2, '0');
            return `${year}å¹´${month}æœˆ${day}æ—¥ ${hour}:${minute}:${second}`;
        }

        // è·å–æ¶ˆæ¯æ—¶é—´ï¼ˆç®€æ´ç‰ˆï¼šæ—¶:åˆ†ï¼‰
        function getCurrentTime() {
            const now = new Date();
            return now.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });
        }

        // æ·»åŠ æ¶ˆæ¯åˆ°èŠå¤©æ¡†
        function addMessage(content, isUser) {
            const msgDiv = document.createElement('div');
            msgDiv.className = isUser ? "message user-msg" : "message robot-msg";
            const time = getCurrentTime();
            msgDiv.innerHTML = `
                ${content}
                <div class="msg-time">${time}</div>
            `;
            chatMessages.appendChild(msgDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        // ===== æ ¸å¿ƒè¯­ä¹‰åŒ¹é…å‡½æ•°ï¼ˆæ›´åƒçœŸäººçš„é€»è¾‘ï¼‰=====
        function getHumanLikeReply(userMsg) {
            const lowerMsg = userMsg.toLowerCase().trim();
            let reply = "";

            // 1. ã€æœ€é«˜ä¼˜å…ˆçº§ã€‘è½»ç”Ÿå…³é”®è¯æ£€æµ‹
            if (keywordGroups.suicide.some(k => lowerMsg.includes(k))) {
                reply = lifeSaveReplies[Math.floor(Math.random() * lifeSaveReplies.length)];
            }
            // 2. æŸ¥æ—¶é—´å…³é”®è¯æ£€æµ‹
            else if (keywordGroups.time.some(k => lowerMsg.includes(k))) {
                // æ¯æ¬¡æŸ¥æ—¶é—´éƒ½é‡æ–°è·å–æœ€æ–°æ—¶é—´
                const timeStr = getFormatTime();
                const randomTimeReply = timeReplies[Math.floor(Math.random() * timeReplies.length)];
                reply = randomTimeReply.replace(/\$\{getFormatTime\(\)\}/g, timeStr);
            }
            // 3. äº²å¯†ç§°å‘¼è®¾ç½®
            else if (keywordGroups.loveCall.some(k => lowerMsg.includes(k))) {
                const nameMatch = lowerMsg.match(/å«æˆ‘([\u4e00-\u9fa5]+)/);
                if (nameMatch && nameMatch[1]) {
                    userNickname = nameMatch[1];
                    reply = callReplies[Math.floor(Math.random() * callReplies.length)];
                }
            }
            // 4. å¼€å¿ƒåœºæ™¯åŒ¹é…
            else if (keywordGroups.happy.some(k => lowerMsg.includes(k))) {
                reply = happyReplies[Math.floor(Math.random() * happyReplies.length)];
            }
            // 5. éš¾è¿‡åœºæ™¯åŒ¹é…
            else if (keywordGroups.sad.some(k => lowerMsg.includes(k))) {
                reply = sadReplies[Math.floor(Math.random() * sadReplies.length)];
            }
            // 6. æƒ³ä½ åœºæ™¯åŒ¹é…
            else if (keywordGroups.miss.some(k => lowerMsg.includes(k))) {
                reply = missReplies[Math.floor(Math.random() * missReplies.length)];
            }
            // 7. æ— èŠåœºæ™¯åŒ¹é…
            else if (keywordGroups.bored.some(k => lowerMsg.includes(k))) {
                reply = boredReplies[Math.floor(Math.random() * boredReplies.length)];
            }
            // 8. é¥¿äº†åœºæ™¯åŒ¹é…
            else if (keywordGroups.hungry.some(k => lowerMsg.includes(k))) {
                reply = hungryReplies[Math.floor(Math.random() * hungryReplies.length)];
            }
            // 9. å›°äº†åœºæ™¯åŒ¹é…
            else if (keywordGroups.sleepy.some(k => lowerMsg.includes(k))) {
                reply = sleepyReplies[Math.floor(Math.random() * sleepyReplies.length)];
            }
            // 10. æ—¥å¸¸éšå£èŠçš„åœºæ™¯
            else {
                // å…ˆæ›¿æ¢æ˜µç§°ï¼Œå†éšæœºé€‰å›å¤
                const randomDaily = dailyReplies[Math.floor(Math.random() * dailyReplies.length)];
                reply = randomDaily.replace(/å®å®/g, userNickname);
            }

            // æœ€ç»ˆæ›¿æ¢æ‰€æœ‰æ˜µç§°å ä½ç¬¦ï¼Œç¡®ä¿ä¸€è‡´æ€§
            return reply.replace(/å®å®/g, userNickname);
        }

        // ===== å‘é€æ¶ˆæ¯äº‹ä»¶ =====
        function sendMessage() {
            const userMsg = msgInput.value.trim();
            if (!userMsg) return;

            // æ·»åŠ ç”¨æˆ·æ¶ˆæ¯
            addMessage(userMsg, true);
            msgInput.value = "";

            // æ¨¡æ‹ŸçœŸäººæ‰“å­—å»¶è¿Ÿï¼ˆéšæœºå»¶è¿Ÿ500-1200msï¼Œæ›´çœŸå®ï¼‰
            const randomDelay = Math.floor(Math.random() * 700) + 500;
            setTimeout(() => {
                const robotReply = getHumanLikeReply(userMsg);
                addMessage(robotReply, false);
            }, randomDelay);
        }

        // ===== ç»‘å®šäº‹ä»¶ =====
        sendBtn.addEventListener('click', sendMessage);
        msgInput.addEventListener('keydown', (e) => {
            if (e.key === 'Enter') sendMessage();
        });
    </script>
</body>
</html>
